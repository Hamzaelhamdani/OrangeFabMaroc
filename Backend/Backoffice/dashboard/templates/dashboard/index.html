{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<style>
    /* Styles CSS intégrés */
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
    }

    .dashboard-card {
        background-color: #fff;
        padding: 20px;
        border-radius: 2px;
        box-shadow: 0 2px 10px rgba(232, 106, 27, 0.1);
        text-align: center;
    }

    .dashboard-card h3 {
        font-size: 24px;
        margin-bottom: 10px;
    }

    .dashboard-card p {
        font-size: 32px;
        font-weight: bold;
        color: #FF7900;
    }

    .dashboard-card canvas {
        margin-top: 10px;
    }

    h1 {
        font-size: 28px; /* Modifie cette valeur selon tes préférences */
        margin-bottom: 20px;
    }

    .content {
        margin-left: 0px;
        padding: 10px;
    }
      
</style>

<div class="content">
    <h1>Dashboard</h1>
    <div class="dashboard-grid">
        <!-- Startups -->
        <div class="dashboard-card">
            <h3>Startups</h3>
            <p id="startupsCount">{{ startups_count }}</p>
            <canvas id="startupsChart"></canvas>
        </div>

        <!-- Events -->
        <div class="dashboard-card">
            <h3>Events</h3>
            <p id="eventsCount">{{ events_count }}</p>
            <canvas id="eventsChart"></canvas>
        </div>

        <!-- Visiteurs -->
        <div class="dashboard-card">
            <h3>Visiteurs</h3>
            <p id="visitorsCount">{{ visitors_count }}</p>
            <canvas id="visitorsChart"></canvas>
        </div>

        <!-- Subscribers -->
        <div class="dashboard-card">
            <h3>Subscribers</h3>
            <p id="subscribersCount">{{ subscribers_count }}</p>
            <canvas id="subscribersChart"></canvas>
        </div>

        <!-- DB Startups -->
        <div class="dashboard-card">
            <h3>DB Startups</h3>
            <p id="dbStartupsCount">{{ db_startups_count }}</p>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // JavaScript intégré pour gérer les graphiques
    var startupsCtx = document.getElementById('startupsChart').getContext('2d');
    var startupsChart = new Chart(startupsCtx, {
        type: 'line',
        data: {
            labels: ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
            datasets: [{
                label: 'Startups',
                data: [12, 19, 3, 5, 2, 3, 10, 15, 7, 10, 13],
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                fill: false
            }]
        }
    });

    var eventsCtx = document.getElementById('eventsChart').getContext('2d');
    var eventsChart = new Chart(eventsCtx, {
        type: 'line',
        data: {
            labels: ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
            datasets: [{
                label: 'Events',
                data: [5, 10, 5, 2, 8, 4, 7, 11, 6, 9, 12],
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1,
                fill: false
            }]
        }
    });

    var visitorsCtx = document.getElementById('visitorsChart').getContext('2d');
    var visitorsChart = new Chart(visitorsCtx, {
        type: 'line',
        data: {
            labels: ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
            datasets: [{
                label: 'Visiteurs',
                data: [8, 12, 14, 6, 10, 12, 15, 14, 11, 13, 12],
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1,
                fill: false
            }]
        }
    });

    var subscribersCtx = document.getElementById('subscribersChart').getContext('2d');
    var subscribersChart = new Chart(subscribersCtx, {
        type: 'bar',
        data: {
            labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],
            datasets: [{
                label: 'Subscribers',
                data: [500, 700, 1200, 900, 1500, 1000, 1300],
                backgroundColor: 'rgba(255, 159, 64, 1)',
                borderWidth: 1
            }]
        }
    });
</script>

{% endblock %}
